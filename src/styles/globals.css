@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  color-scheme: dark;
}

*, *::before, *::after {
  box-sizing: border-box;
}

body {
  @apply bg-background text-foreground antialiased;
  min-height: 100vh;
}

@layer utilities {
  .flag-cloth {
    position: relative;
    overflow: hidden;
    background: linear-gradient(180deg, #005bbb 0%, #005bbb 49%, #ffd500 50%, #ffd500 100%);
    box-shadow: inset 0 0 25px rgba(0, 0, 0, 0.35);
  }

  .animate-flag-wave {
    animation: flag-wave 5s ease-in-out infinite;
    transform-origin: left center;
  }

  .flag-cloth::before,
  .flag-cloth::after {
    content: "";
    position: absolute;
    inset: -20% -5%;
    pointer-events: none;
  }

  .flag-cloth::before {
    background: linear-gradient(180deg, rgba(255, 255, 255, 0.3), rgba(255, 255, 255, 0)),
      linear-gradient(90deg, rgba(0, 0, 0, 0.15), transparent);
    mix-blend-mode: screen;
    animation: flag-wave 5s ease-in-out infinite;
    transform-origin: left center;
  }

  .flag-cloth::after {
    background: radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.35), transparent 55%),
      radial-gradient(circle at 70% 70%, rgba(0, 0, 0, 0.25), transparent 65%);
    opacity: 0.9;
  }
}

@keyframes flag-wave {
  0% {
    transform: perspective(600px) rotateY(0deg) skewY(0deg);
  }
  25% {
    transform: perspective(600px) rotateY(-12deg) skewY(-2deg);
  }
  50% {
    transform: perspective(600px) rotateY(10deg) skewY(2deg);
  }
  75% {
    transform: perspective(600px) rotateY(-8deg) skewY(-1.5deg);
  }
  100% {
    transform: perspective(600px) rotateY(0deg) skewY(0deg);
  }
}

@layer utilities {
  .animate-flag-wave {
    animation: flag-wave 4s ease-in-out infinite;
    transform-origin: left center;
  }

  .flag-cloth {
    position: relative;
    background-image:
      linear-gradient(120deg, rgba(255, 255, 255, 0.35), rgba(255, 255, 255, 0)),
      linear-gradient(180deg, #005bbb 0%, #005bbb 50%, #ffd500 50%, #ffd500 100%);
    background-size: 220% 220%, 100% 100%;
    background-position: 0% 50%, 0 0;
    overflow: hidden;
  }

  .flag-cloth::after {
    content: "";
    position: absolute;
    inset: 0;
    background: radial-gradient(circle at 30% 20%, rgba(255, 255, 255, 0.4), transparent 55%),
      radial-gradient(circle at 70% 80%, rgba(0, 0, 0, 0.25), transparent 60%);
    opacity: 0.7;
    pointer-events: none;
  }
}

@keyframes flag-wave {
  0% {
    transform: perspective(400px) rotateY(0deg) skewY(0deg);
    background-position: 0% 50%, 0 0;
  }
  25% {
    transform: perspective(400px) rotateY(-12deg) skewY(-2deg);
    background-position: 40% 60%, 0 0;
  }
  50% {
    transform: perspective(400px) rotateY(10deg) skewY(2deg);
    background-position: 80% 40%, 0 0;
  }
  75% {
    transform: perspective(400px) rotateY(-8deg) skewY(-1.5deg);
    background-position: 120% 60%, 0 0;
  }
  100% {
    transform: perspective(400px) rotateY(0deg) skewY(0deg);
    background-position: 0% 50%, 0 0;
  }
}

a {
  @apply text-primary hover:text-primary/80 transition-colors;
}

#root {
  min-height: 100vh;
}

